<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>EasyMesh Node</title>
<style>
body{font-family:-apple-system,sans-serif;background:#0d1117;color:#e6edf3;
     display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0}
.card{background:#161b22;border:1px solid #30363d;border-radius:16px;
      padding:32px 28px;max-width:420px;width:100%;text-align:center}
h1{font-size:20px;margin:12px 0 8px}
p{font-size:13px;color:#7d8590;line-height:1.7;margin:0 0 20px}
.status{padding:10px 16px;border-radius:8px;font-size:13px;margin-top:16px}
.ok{background:rgba(46,164,79,.15);color:#2ea44f;border:1px solid #2ea44f}
.wait{background:rgba(227,179,65,.1);color:#e3b341;border:1px solid #e3b341}
</style>
</head>
<body>
<div class="card">
  <div style="font-size:48px">ðŸ”Œ</div>
  <h1>EasyMesh Node</h1>
  <p>This node joins the mesh automatically via wired backhaul.<br>
     Connect a LAN cable to the master router and wait ~30 seconds.</p>
  <div id="status" class="status wait">Searching for master...</div>
</div>
<script>
function check() {
  fetch('/ping').then(function(r){ return r.json(); })
  .then(function(d){
    var el = document.getElementById('status');
    if(d.role === 'master') {
      el.className = 'status ok';
      el.textContent = 'âœ“ This node is the master';
    } else if(d.role === 'agent') {
      el.className = 'status ok';
      el.textContent = 'âœ“ Joined mesh as agent';
    } else {
      el.className = 'status wait';
      el.textContent = 'Waiting for master...';
    }
  }).catch(function(){ });
}
check();
setInterval(check, 5000);
</script>
</body>
</html>

<script src="/luci-static/tinynote/jquery.min.js"></script>
<link rel="stylesheet" href="/luci-static/tinynote/bulma.css"/>
<script src="/luci-static/tinynote/clipboard.min.js"></script>
<script type="text/javascript" charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ace.js"></script>
<script>
    $(document).ready(function() {
        <%  local con = require "luci.model.uci".cursor():get_all("luci", "tinynote")
            for sum_str = 1, con.note_sum do
                local sum = string.format("%02d", sum_str)
                local theme = con.acetheme or false
                local id = string.format('note%s', sum)
                local only = con.aceonly or con['only_note' .. sum] or false
                local model = con['model_note' .. sum] or con.note_suffix

                if model == 'shell' or model == 'py' then
                    model = model == 'shell' and 'sh' or 'python'
                end
        %>
            renderAceEditor('<%=id%>', '<%=model%>', '<%=only%>', '<%=theme%>');
        <%end%>
    });
</script>
<script src="/luci-static/tinynote/acelib.js"></script>

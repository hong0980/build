<style>
	.CodeMirror {
		text-align: left !important;
		font-size: 15px;
		line-height: 150%;
		resize: both !important;
	}
</style>

<link rel="stylesheet" href="/luci-static/resources/tinynote/lib/codemirror.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/theme/material.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/theme/material-ocean.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/addon/fold/foldgutter.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/addon/lint/lint.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/addon/display/fullscreen.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/addon/dialog/dialog.css"/>
<link rel="stylesheet" href="/luci-static/resources/tinynote/addon/search/matchesonscrollbar.css"/>
<script src="/luci-static/resources/tinynote/lib/codemirror.js"></script>
<script src="/luci-static/resources/tinynote/mode/lua/lua.js"></script>
<script src="/luci-static/resources/tinynote/mode/yaml/yaml.js"></script>
<script src="/luci-static/resources/tinynote/mode/shell/shell.js"></script>
<script src="/luci-static/resources/tinynote/mode/python/python.js"></script>
<script src="/luci-static/resources/tinynote/mode/markdown/markdown.js"></script>
<script src="/luci-static/resources/tinynote/addon/fold/foldcode.js"></script>
<script src="/luci-static/resources/tinynote/addon/fold/foldgutter.js"></script>
<script src="/luci-static/resources/tinynote/addon/fold/indent-fold.js"></script>
<script src="/luci-static/resources/tinynote/addon/fold/markdown-fold.js"></script>
<script src="/luci-static/resources/tinynote/addon/edit/matchbrackets.js"></script>
<script src="/luci-static/resources/tinynote/addon/selection/active-line.js"></script>
<script src="/luci-static/resources/tinynote/addon/lint/lint.js"></script>
<script src="/luci-static/resources/tinynote/addon/lint/yaml-lint.js"></script>
<script src="/luci-static/resources/tinynote/addon/lint/js-yaml.min.js"></script>
<script src="/luci-static/resources/tinynote/addon/display/fullscreen.js"></script>
<script src="/luci-static/resources/tinynote/addon/display/autorefresh.js"></script>
<script src="/luci-static/resources/tinynote/addon/dialog/dialog.js"></script>
<script src="/luci-static/resources/tinynote/addon/search/search.js"></script>
<script src="/luci-static/resources/tinynote/addon/search/searchcursor.js"></script>
<script src="/luci-static/resources/tinynote/addon/search/jump-to-line.js"></script>
<script src="/luci-static/resources/tinynote/addon/search/matchesonscrollbar.js"></script>
<script src="/luci-static/resources/tinynote/addon/scroll/annotatescrollbar.js"></script>

<script type="text/javascript">//<![CDATA[
function shell(id, readOnly) {
	var editor = CodeMirror.fromTextArea(id, {
		mode: "shell",
		autoRefresh: true,
		theme: "material", // 主题
		foldGutter: true,
		lint: true,	// 代码出错提醒
		tabSize: 4, // 制表符的宽度
		styleActiveLine: true,	// 选中行高亮
		matchBrackets: true, // 光标匹配括号
		lineNumbers: true, // 是否显示行号
		lineWrapping: true, // 是否应滚动或换行以显示长行
		lineWiseCopyCut: true, // 在没有选择的情况下进行复制或剪切将复制或剪切有光标的整行。
		showCursorWhenSelecting: true, // 选择处于活动状态时是否应绘制光标
		maxHighlightLength: Infinity, // 显示长行的时候 这个值是不限制，如果要做限制的话，值是number类型
		extraKeys: {
			"F11": function(cm) {
				cm.setOption("fullScreen", !cm.getOption("fullScreen"));
			},
			"Esc": function(cm) {
				if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
			},
			"Tab": function(cm) {
				if (cm.somethingSelected()) {
					cm.indentSelection('add')
				} else {
					var spaces = Array(cm.getOption("indentUnit") + 1).join(" ")
					cm.replaceSelection(spaces)
				}
			},
		}
	});
	editor.setSize("1500px", "700px");

	if (readOnly == "true") {
		editor.setOption("readOnly","true");
	};
};

function lua(id, readOnly) {
	var editor = CodeMirror.fromTextArea(id, {
		mode: "lua",
		autoRefresh: true,
		theme: "material", // 主题
		foldGutter: true,
		lint: true,	// 代码出错提醒
		tabSize: 4, // 制表符的宽度
		styleActiveLine: true,	// 选中行高亮
		matchBrackets: true, // 光标匹配括号
		lineNumbers: true, // 是否显示行号
		lineWrapping: true, // 是否应滚动或换行以显示长行
		lineWiseCopyCut: true, // 在没有选择的情况下进行复制或剪切将复制或剪切有光标的整行。
		showCursorWhenSelecting: true, // 选择处于活动状态时是否应绘制光标
		maxHighlightLength: Infinity, // 显示长行的时候 这个值是不限制，如果要做限制的话，值是number类型
		extraKeys: {
			"F11": function(cm) {
				cm.setOption("fullScreen", !cm.getOption("fullScreen"));
			},
			"Esc": function(cm) {
				if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
			},
			"Tab": function(cm) {
				if (cm.somethingSelected()) {
					cm.indentSelection('add')
				} else {
					var spaces = Array(cm.getOption("indentUnit") + 1).join(" ")
					cm.replaceSelection(spaces)
				}
			},
		}
	});
	editor.setSize("1500px", "700px");

	if (readOnly == "true") {
		editor.setOption("readOnly","true");
	};
};

function yaml(id, readOnly) {
	var editor = CodeMirror.fromTextArea(id, {
		mode: "text/yaml",
		autoRefresh: true,
		theme: "material", // 主题
		foldGutter: true,
		lint: true,	// 代码出错提醒
		tabSize: 4, // 制表符的宽度
		styleActiveLine: true,	// 选中行高亮
		matchBrackets: true, // 光标匹配括号
		lineNumbers: true, // 是否显示行号
		lineWrapping: true, // 是否应滚动或换行以显示长行
		lineWiseCopyCut: true, // 在没有选择的情况下进行复制或剪切将复制或剪切有光标的整行。
		showCursorWhenSelecting: true, // 选择处于活动状态时是否应绘制光标
		maxHighlightLength: Infinity, // 显示长行的时候 这个值是不限制，如果要做限制的话，值是number类型
		extraKeys: {
			"F11": function(cm) {
				cm.setOption("fullScreen", !cm.getOption("fullScreen"));
			},
			"Esc": function(cm) {
				if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
			},
			"Tab": function(cm) {
				if (cm.somethingSelected()) {
					cm.indentSelection('add')
				} else {
					var spaces = Array(cm.getOption("indentUnit") + 1).join(" ")
					cm.replaceSelection(spaces)
				}
			},
		}
	});
	editor.setSize("1500px", "700px");

	if (readOnly == "true") {
		editor.setOption("readOnly","true");
	};
};

var note1 = document.getElementById("cbid.luci.tinynote.note1.lua");
var note2 = document.getElementById("cbid.luci.tinynote.note2.lua");
var note3 = document.getElementById("cbid.luci.tinynote.note3.lua");
var note4 = document.getElementById("cbid.luci.tinynote.note4.lua");
var note5 = document.getElementById("cbid.luci.tinynote.note5.lua");
var note6 = document.getElementById("cbid.luci.tinynote.note6.lua");
var note7 = document.getElementById("cbid.luci.tinynote.note7.lua");
var note8 = document.getElementById("cbid.luci.tinynote.note8.lua");

if (note1) {
	lua(note1, 'false');
};

if (note2) {
	lua(note2, 'false');
};

if (note3) {
	lua(note3, 'false');
};

if (note4) {
	lua(note4, 'false');
};

if (note5) {
	lua(note5, 'false');
};

if (note6) {
	lua(note6, 'false');
};

if (note7) {
	lua(note7, 'false');
};

if (note8) {
	lua(note8, 'false');
};

//]]></script>
